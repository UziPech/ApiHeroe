<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Im√°genes de Villanos</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f0f0f0;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .image-test {
            margin: 20px 0;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
        }
        .image-test h3 {
            margin-top: 0;
            color: #333;
        }
        .image-test img {
            max-width: 200px;
            height: auto;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .status {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .loading {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üß™ Test de Im√°genes de Villanos</h1>
        <p>Este test verifica que las im√°genes de villanos de diferentes niveles se cargan correctamente.</p>
        
        <div class="image-test">
            <h3>Villano Nivel 1</h3>
            <img src="/images/villano_comb_level1.png" alt="Villano Nivel 1" 
                 onload="this.nextElementSibling.className='status success'; this.nextElementSibling.textContent='‚úÖ Imagen cargada correctamente';"
                 onerror="this.nextElementSibling.className='status error'; this.nextElementSibling.textContent='‚ùå Error al cargar la imagen';">
            <div class="status loading">‚è≥ Cargando...</div>
        </div>

        <div class="image-test">
            <h3>Villano Nivel 2</h3>
            <img src="/images/villano_comb_level2.png" alt="Villano Nivel 2" 
                 onload="this.nextElementSibling.className='status success'; this.nextElementSibling.textContent='‚úÖ Imagen cargada correctamente';"
                 onerror="this.nextElementSibling.className='status error'; this.nextElementSibling.textContent='‚ùå Error al cargar la imagen';">
            <div class="status loading">‚è≥ Cargando...</div>
        </div>

        <div class="image-test">
            <h3>Villano Nivel 3</h3>
            <img src="/images/villano_comb_level3.png" alt="Villano Nivel 3" 
                 onload="this.nextElementSibling.className='status success'; this.nextElementSibling.textContent='‚úÖ Imagen cargada correctamente';"
                 onerror="this.nextElementSibling.className='status error'; this.nextElementSibling.textContent='‚ùå Error al cargar la imagen';">
            <div class="status loading">‚è≥ Cargando...</div>
        </div>

        <div class="image-test">
            <h3>Test de Funci√≥n getCharacterImage</h3>
            <p>Simulando la funci√≥n getCharacterImage con diferentes niveles:</p>
            <div id="function-test"></div>
        </div>
    </div>

    <script>
        // Simular la funci√≥n getCharacterImage del frontend
        function getCharacterImage(character, isVillain = false) {
            if (!character) return isVillain ? '/images/villano_comb_level1.png' : '/images/heroe_comb_level1.png';
            
            try {
                const level = character.level || 1;
                const characterType = isVillain ? 'villano' : 'heroe';
                const imagePath = `/images/${characterType}_comb_level${level}.png`;
                return imagePath;
            } catch (error) {
                console.warn('Error al obtener imagen del personaje:', error);
                return isVillain ? '/images/villano_comb_level1.png' : '/images/heroe_comb_level1.png';
            }
        }

        // Test de la funci√≥n
        const testCases = [
            { level: 1, name: 'Villano Nivel 1' },
            { level: 2, name: 'Villano Nivel 2' },
            { level: 3, name: 'Villano Nivel 3' }
        ];

        const functionTestDiv = document.getElementById('function-test');
        
        testCases.forEach(testCase => {
            const testCharacter = { level: testCase.level };
            const imagePath = getCharacterImage(testCharacter, true);
            
            const testDiv = document.createElement('div');
            testDiv.style.margin = '10px 0';
            testDiv.style.padding = '10px';
            testDiv.style.border = '1px solid #ddd';
            testDiv.style.borderRadius = '5px';
            
            testDiv.innerHTML = `
                <strong>${testCase.name}</strong><br>
                <strong>Nivel:</strong> ${testCase.level}<br>
                <strong>Ruta generada:</strong> ${imagePath}<br>
                <img src="${imagePath}" alt="${testCase.name}" style="max-width: 150px; height: auto; margin-top: 10px;"
                     onload="this.previousElementSibling.innerHTML += '<br><span style=\'color: green;\'>‚úÖ Imagen cargada correctamente</span>';"
                     onerror="this.previousElementSibling.innerHTML += '<br><span style=\'color: red;\'>‚ùå Error al cargar la imagen</span>';">
            `;
            
            functionTestDiv.appendChild(testDiv);
        });
    </script>
</body>
</html> 